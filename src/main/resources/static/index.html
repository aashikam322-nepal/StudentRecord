<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Course Registration System</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- âœ… IMPORTANT -->
    <script src="/auth.js" defer></script>
    <link rel="stylesheet" href="/style.css">
</head>

<body>

<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
        <a class="navbar-brand">Course System</a>

        <ul class="navbar-nav ms-auto">
            <li class="nav-item"><a class="nav-link secure-link" href="/courses.html">Courses</a></li>
            <li class="nav-item"><a class="nav-link secure-link" href="/students.html">Students</a></li>
            <li class="nav-item"><a class="nav-link secure-link" href="/enrollments.html">Enrollments</a></li>
            <li class="nav-item"><span id="roleBadge" class="role-badge ms-3"></span></li>
            <li class="nav-item">
                <button
                        id="logoutBtn"
                        class="btn btn-light btn-sm ms-3"
                        onclick="logout()"
                        style="display: none;">
                    Logout
                </button>
            </li>
        </ul>
    </div>
</nav>

<div class="container mt-5">

    <!-- âŒ ERROR BOX -->
    <div id="errorBox" class="alert alert-danger" style="display:none;"></div>

    <!-- ğŸ” LOGIN -->
    <div id="loginSection" class="row justify-content-center">
        <div class="col-md-5">
            <div class="card shadow p-3">
                <h4 class="text-center">ğŸ” Login</h4>
                <input id="username" class="form-control mb-2" placeholder="Username">
                <input id="password" type="password" class="form-control mb-3" placeholder="Password">
                <button class="btn btn-primary w-100" onclick="login()">Login</button>
                <div class="text-center">
                    <p class="mb-0">Don't have an account?
                        <a href="#" onclick="document.getElementById('loginSection').style.display='none';
                               document.getElementById('registerSection').style.display='block';
                               clearError();
                               return false;">
                            Register here
                        </a>
                    </p>
                </div>
            </div>
        </div>
    </div>

<!--    REGISTER-->
    <div id="registerSection" class="row justify-content-center" style="display: none;">
        <div class="col-md-5">
            <div class="card shadow p-3">
                <h4 class="text-center">ğŸ‘‹ Create Account</h4>
                <input id="regUsername" class="form-control mb-2" placeholder="Choose a username">
                <input id="regPassword" type="password" class="form-control mb-3" placeholder="Choose a password">
                <button class="btn btn-success w-100 mb-2" onclick="register()">Register</button>
                <div class="text-center">
                    <p class="mb-0">Already have an account?
                        <a href="#" onclick="document.getElementById('registerSection').style.display='none';
                                       document.getElementById('loginSection').style.display='block';
                                       clearError();
                                       return false;">
                            Login here
                        </a>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- ğŸ  HOME CONTENT -->
    <div class="home-container mt-4">
        <h1>Welcome to the Course Registration System</h1>

        <p class="subtitle">
            A secure and efficient platform to manage academic operations seamlessly.
        </p>

        <div class="features">
            <div class="feature-box">
                <h3>ğŸ“š Course Management</h3>
                <p>Create, manage, and organize courses with full control and visibility.</p>
            </div>

            <div class="feature-box">
                <h3>ğŸ‘¨â€ğŸ“ Student Management</h3>
                <p>Maintain accurate student records with role-based access.</p>
            </div>

            <div class="feature-box">
                <h3>ğŸ“ Enrollment Management</h3>
                <p>Enroll students into courses and track registrations in real time.</p>
            </div>
        </div>
    </div>

    <!-- ğŸ“Š DASHBOARD (AFTER LOGIN) -->
    <div id="dashboard" class="dashboard row text-center">
        <div class="col-md-4">
            <div class="card p-3 shadow">
                <h4>ğŸ“š Courses</h4>
                <p>Manage all courses</p>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card p-3 shadow">
                <h4>ğŸ‘¨â€ğŸ“ Students</h4>
                <p>View and manage students</p>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card p-3 shadow">
                <h4>ğŸ“ Enrollments</h4>
                <p>Track enrollments</p>
            </div>
        </div>
    </div>

    <!-- ğŸ”’ ROLE INFO -->
    <div class="mt-5 text-center">
        <h4>ğŸ”’ Admin vs User Capabilities</h4>
        <p><strong>ADMIN:</strong> Create, Delete, Update enroll students</p>
        <p><strong>USER:</strong> View courses, students, enrollments</p>
    </div>

</div>

<!-- ğŸŒ— FOOTER -->
<footer>
    Version 1.0 | Author: Aashika Mandal
    <span class="dark-toggle" onclick="toggleDarkMode()">ğŸŒ—</span>
</footer>


</body>
</html>
